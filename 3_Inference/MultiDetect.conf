
    
    
Startup:
    #==================================================================================
    #settings for main program only, will not propagate to process modules
    #==================================================================================

    
    num_processes: 4 #Number of processes to launch

Master:
    #==================================================================================
    #settings for master only, will not propagate to process modules
    #==================================================================================
    master_window_title: "Master" # title for master monitor window
    redraw: True #used to  redraw screen to settle windows into their place

    
    
Common:
    #==========================================================================================
    #Settings common to all processes except master. A setting in process block  will override global setting for that block
    #==========================================================================================

    showmaster: True  #If true, show master window
    hush: True   #Try to suppress most warnings and error messages
    testing: False #if True, play video as specified in testvideo. Used for testing
    max_cams_to_probe: 10 #maximum number of usb cameras to probe for. Probing takes time at startup. 10 is a good number
    profile: False #if true, profile video_process() for 3000 frames, then show results for each process
    testvideo:  "" #Dummy video file.  If "", .../TrainYourOwnYOLO/3_Inference/MDResource/testvid.mp4 will be used
    clicksound: "" #Audible alert.  If "", .../TrainYourOwnYOLO/3_Inference/MDResource/chime.mp3 will be used
    silence:    "" #needed for test of audio capabilities. If "", .../TrainYourOwnYOLO/3_Inference/MDResource/silence.mp3 will be used
    soundalert: True  #play sound when a class specified in present_trigger  is detected

    sync_start: True  #synchronize start of all video streams in an attempt to mitigate time drift between videos
    sync_start_wait: 15 #time in seconds to wait for sync_start before timeout. This will be multiplied by num_processes to allow for longer staging due to higher load   
    buffer_depth:20   #size of frame buffer in frames. Keep low to combat drift, high enough for smooth video. Note: Some webcams do not allow buffers > 10.    
    presence_trigger:[]
    presence_timer_interval: 30   # seconds until reset 
    ding_interval:   20   #allow only one ding within that period
    record_autovideo:  False # If true, automatically record captured video, and store it in output_path
    output_path:       "/mnt/4T/catdetector/videos/"  #basepath for recorded video files 
    record_framecode: True  #record framecode files corresponding to recorded video files
    framecode_path:   "/mnt/4T/catdetector/framecode/"  #basepath for framecode files 
    maintain_result_log: True  # Whether to keep a running log with result timings etc.
    result_log_basedir: "/mnt/NVMRAID/catdetector/resultlogs/"       # Where to keep the result logs. Will result in one line per frame, keep on SSD or NVME  
    rolling_average_n: 32      # Length of rolling average used to determine average YOLO-fps



    show_stats: False  #print stats to console, or not

    # To make up for less capable GPUs, or for high frame rates, use these settings to run only every nth frame through yolo detection
    # For instance, a frame rate of 25fps, and a setting of 2 would result in ~12 frames per second to be run through yolo, which is well within the capabilities of a moderately-priced GPU
    # These settings also make for considerable power savings

    do_only_every_autovideo: 4   #run only every nth image through yolo during autovideo recording 
    do_only_every_initial:   4  #run only every nth image through yolo during normal times
    do_only_every_present:   4  #run every nth image through yolo after activity was detected and until presence_timer_interval times out

    #Default settings for on-screen type. Can be obverridden in app
    osd_fontFace:     0           #  index of cv2.FONT_HERSHEY_SIMPLEX
    osd_fontScale:    1.2         #  font size
    osd_fontColor:    (0,255, 0)  #  green
    osd_fontWeight:   3           #  will be adjusted for smaller/bigger screens
    osd_lineSpacing:  45          #  line-to-line spacing, will be adjusted for smaller/bigger screens




    ### catdetector_main:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/3_Inference"

    #yolo settings. To use different models on a per stream basis, specify these settings in the respective process block

    #output:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Source_Images_t1/Test_Image_Detection_Results"

    iou:   0.1 # intersection over union threshold
    
    #=== top model  ============================================================================================================
    #model_path:  "/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/trained_weights_final.h5"
    #classes_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/data_classes.txt"
    #===========================================================================================================================


    
    #=== side model ============================================================================================================
    model_path:  "/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_s2/trained_weights_final.h5"
    classes_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_s2/data_classes.txt"    
    #===========================================================================================================================
   
    anchors_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/2_Training/src/keras_yolo3/model_data/yolo_anchors.txt"

    # Classes for automatic action. If set as below, "LadyKuro" would be a member of the "cat" class, and all "cat" class members would trigger automatic action, such as sound alert (if set and supported) or automatic recording of video (if set)   
    labeldict:{'NONE':'noshow','Coffeestain':'cat', 'Rusty':'cat','Adolf':'cat','Bird':'bird','Civet':'vermin','Colorful':'cat','Empty':'noshow','Full':'noshow','Ginger':'noshow','Grizzly':'noshow','Half-full':'noshow','LadyKuro':'cat','Mouse':'vermin','MrKuro':'cat','Soccerball':'noshow','Socks':'noshow','Tabby':'noshow','Crow':'bird'}


    #ignore_labels: ['NONE','Ginger','Grizzly','Full','Empty','Half-full']
    ignore_labels: ['NONE','Full','Empty','Half-full','Ginger','Coffeestain', 'Crow']



    #box:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Source_Images/Test_Image_Detection_Results/Detection_Results.csv"

        
    #dimensions for output window

    #window_wide:1024
    #window_high:600

    window_wide: 960
    window_high: 489
    #495

    #window_high:344    
    gpu_memory_fraction: 0.4
    allow_growth:1  #GPU memory allocation strategy. -1 let Keras decide, 0 disallow, 1 allow memory used to grow dynamically. Best setting to optimize memory usage appears to be 1 
    video_path:"rtsp://admin:admin@192.168.1.30:554/stream1"


Process_1:
    #Per process settings. Provide a Process_x block for each stream
    #If fewer blocks than num_processes are provided, all other processes will use data in last provided block
    #If no process_x is provided, process will inherit its settings from the Common block. If no Common block is provided
    # process will run with defaults
    #
    #To set incoming video source: For webcam, set video-path to 0 (1, 2, 3 ....) no quotes.  For video file, set to path to file name, in quotes. For live stream, set to url of stream, in quotes
    #video_path: 2    
    #video_path:"rtsp://192.168.1.32:554/live/0/MAIN"  #top

    video_path:"rtsp://admin:admin@192.168.1.30:554/stream1"  #side
    #video_path: "/mnt/4T/catdetector/videoshow/200921_112303EM_P1.mp4"

    #=== side model ============================================================================================================
    #model_path:  "/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_s3/trained_weights_final.h5"
    #classes_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_s3/data_classes.txt"    
    #===========================================================================================================================
   
    run_on_gpu: "0"  			#specify gpu "0", "1". A setting of "0,1" (and variations thereof) is required by spec, but has little or no effect. Set to "-1" to let Keras pick what it thinks is the best GPU
    #gpu_memory_fraction: 0.1        	#how much GPU memory to claim for process. 1 = 100%, 0.1 = 10% . Performance will suffer when memory-starved, process will crash if GPU memory insufficient. When set to less than 1 (100%), the total for all processes must be less than 100% to allow for overhead. Experiment! 
    #allow_growth: 1  			#GPU memory allocation strategy. -1 let Keras decide, 0 disallow, 1 allow memory used to dynamically grow. Best setting to optimize memory usage appears to be 1 
    score: 0.30     			#report detections with this confidence score, or higher

    #output window settings
    window_title:"Monitor_1"
    window_x: 0 #use this to position window on screen, also to a separate monitor in a multi-monitor setting
    window_y: 28

Process_2:
    #input settings
    #video_path:"rtsp://192.168.1.32:554/live/0/MAIN"
    #video_path:"rtsp://admin:admin@192.168.1.30:554/stream1"
    #video_path: 2    
    video_path: "/mnt/4T/catdetector/videoshow/200916_170804EM_P2.mp4"

    #=== top model  ============================================================================================================
    model_path:  "/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/trained_weights_final.h5"
    classes_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/data_classes.txt"
    #===========================================================================================================================


    #======================================================================
    run_on_gpu: "0"  			#specify gpu "0", "1". "0,1" for both is required by spec, has little or no effect. Set to "-1" to let Keras pick the best GPU
    #gpu_memory_fraction: 0.1   		#how much GPU memory to claim for process. 1 = 100%, 0.1 = 10% . Performance will suffer when memory-starved, process will crash if GPU memory insufficient
    #allow_growth: 1  			#-1 let Keras decide, 0 disallow, 1 allow memory used on the GPU to dynamically grow.
    score: 0.30     			#report detections with this confidence score, or higher
    #=============================================================================
        
    #output window settings
    window_title:"Monitor_2"
    window_x: 960  #use this to move window, also to a separate monitor
    window_y: 28

Process_3:
    #input settings
    #video_path:"rtsp://192.168.1.32:554/live/0/MAIN"
    #video_path:"rtsp://admin:admin@192.168.1.30:554/stream1"
    #video_path: "/mnt/4T/catdetector/videoshow/20200806_042835EM_P1.mp4"
    video_path: "/mnt/4T/catdetector/videoshow/200922_082732EM_P1.mp4"
    #video_path: 4
    #======================================================================
    run_on_gpu: "0"  			# specify gpu "0", "1". "0,1" for both is required by spec, has little or no effect. Set to "-1" to let Keras pick the best GPU
    #gpu_memory_fraction: 0.1            # how much GPU memory to claim for process. 1 = 100%, 0.1 = 10% . Performance will suffer when memory-starved, process will crash if GPU memory insufficient
    #allow_growth: 1  			# -1 let Keras decide, 0 disallow, 1 allow memory used on the GPU to dynamically grow.
    score: 0.30     			# report detections with this confidence score, or higher
    #=============================================================================
        
    #output window settings
    window_title:"Monitor_3"
    window_x: 0 #use this to move window, also to a separate monitor
    #window_y: 565
    window_y: 554


Process_4:
    #input settings
    #video_path:"rtsp://192.168.1.32:554/live/0/MAIN"
    #video_path: 0
    #video_path:"rtsp://admin:admin@192.168.1.30:554/stream1"

    video_path: "/mnt/4T/catdetector/videoshow/200914_085209EM_P2.mp4"

    #======================================================================
    run_on_gpu: "0"  			#specify gpu "0", "1". "0,1" for both is required by spec, has little or no effect. Set to "-1" to let Keras pick the best GPU
    #gpu_memory_fraction: 0.155   		#how much GPU memory to claim for process. 1 = 100%, 0.1 = 10% . Performance will suffer when memory-starved, process will crash if GPU memory insufficient
    #allow_growth: 0  			#-1 let Keras decide, 0 disallow, 1 allow memory used on the GPU to dynamically grow.
    score: 0.30     			#report detections with this confidence score, or higher
    #=============================================================================
    #=== top model  ============================================================================================================
    model_path:  "/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/trained_weights_final.h5"
    classes_path:"/usr/local/bin/catdetectorp/TrainYourOwnYOLO/Data/Model_Weights_t1/data_classes.txt"
    #===========================================================================================================================

        
    #output window settings
    window_title:"Monitor_4"
    window_x: 960 #use this to move window, also to a separate monitor
    #window_y: 565
    window_y: 554


